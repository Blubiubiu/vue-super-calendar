{"remainingRequest":"/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js??vue-loader-options!/Users/lsy/Desktop/code/calendar/vue-super-calendar/src/lib/calendar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lsy/Desktop/code/calendar/vue-super-calendar/src/lib/calendar.vue","mtime":1552544002235},{"path":"/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_vue-loader@15.7.0@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _JSON$stringify from \"/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/es6.regexp.replace\";\nimport _parseInt from \"/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/@babel/runtime-corejs2/core-js/parse-int\";\nimport \"core-js/modules/es6.regexp.match\";\nimport \"core-js/modules/es6.regexp.to-string\";\nimport \"core-js/modules/es6.regexp.split\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Calendar from \"./calendar.js\";\n/**\n * @desc 日历组件\n * @param {string} [selectedDay] - 选中日期，默认为当天\n * @param {string} [selectedLastDay] - 复选时后一个日期\n * @param {string} [currentDate] - 日历当前年月\n * @param {array} [weekList] - 星期列表\n * @param {array} [dateList] - 日期列表\n * @param {array} [monthList] - 月份列表\n * @param {array} [yearList] - 年份列表\n * @param {number} [liHeight] - 默认高度\n * @param {string} [translateMonthY] - 月份移动值\n * @param {array} [translateYearY] - 年份移动值数组\n */\n\n/**\n * @desc 日历组件-props\n *\n * options - 日历可控项\n * @param {string} [type] - radio: 单选  checkbox: 复选  picker: 滚动\n * @param {string} [startDay] - 设置选定日期(仅针对radio和picker有效) eg：\"2019-3-3\"\n * @param {array} [checkboxTxt] - 复选文本(建议不超过两个字) default: [\"入住\", \"离店\"]\n * @param {boolean} [checkboxBefore] - 复选(是否允许选择当前日期之前的日期, 同时也会禁用往当前日期前翻页的功能) default: false\n */\n\nexport default {\n  name: \"vue-super-calendar\",\n  props: {\n    type: {\n      type: String,\n      default: \"radio\"\n    },\n    startDay: {\n      type: String,\n      default: \"\"\n    },\n    checkboxTxt: {\n      type: Array,\n      default: () => {\n        return [\"入住\", \"离店\"];\n      }\n    },\n    checkboxBefore: {\n      type: Boolean,\n      default: false\n    }\n  },\n\n  data() {\n    return {\n      calendar: null,\n      selectedDay: this.type !== \"checkbox\" ? new Date().getFullYear() + \"-\" + (new Date().getMonth() + 1) + \"-\" + new Date().getDate() : null,\n      selectedLastDay: \"\",\n      currentDate: new Date().getFullYear() + \"-\" + (new Date().getMonth() + 1),\n      weekList: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],\n      dateList: [],\n      monthList: [\"01\", \"02\", \"03\", \"04\", \"05\", \"06\", \"07\", \"08\", \"09\", \"10\", \"11\", \"12\"],\n      yearList: [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"],\n      liHeight: 25,\n      translateMonthY: -new Date().getMonth() * 25 + \"px\",\n      translateYearY: [-new Date().getFullYear().toString().split(\"\")[0] * 25 + \"px\", -new Date().getFullYear().toString().split(\"\")[1] * 25 + \"px\", -new Date().getFullYear().toString().split(\"\")[2] * 25 + \"px\", -new Date().getFullYear().toString().split(\"\")[3] * 25 + \"px\"],\n      today: \"\",\n      status: false\n    };\n  },\n\n  methods: {\n    /* eslint-disable */\n    show() {\n      this.status = true;\n    },\n\n    hide() {\n      this.status = false;\n    },\n\n    //获取当天年月日\n    getToday() {\n      this.today = new Date().getFullYear() + \"-\" + (new Date().getMonth() + 1) + \"-\" + new Date().getDate();\n    },\n\n    //年月份切换\n    translateYM() {\n      var _tmp = this.currentDate.match(/\\d+/gi);\n\n      _tmp[0].split(\"\").map((item, index) => {\n        this.translateYearY[index] = -+item * this.liHeight + \"px\";\n      });\n\n      this.monthList.map(item => {\n        if (_tmp[1] == _parseInt(item)) {\n          this.translateMonthY = -(+_tmp[1] - 1) * this.liHeight + \"px\";\n        }\n      });\n    },\n\n    //上一月\n    prev() {\n      this.changeMonth(\"getPrev\");\n    },\n\n    //下一月\n    next() {\n      this.changeMonth(\"getNext\");\n    },\n\n    //更换月份\n    changeMonth(type) {\n      var tmp = this.currentDate.match(/\\d+/gi);\n\n      if (this.type === \"checkbox\") {\n        if (!this.checkboxBefore) {\n          //不可选择当前日期之前的日期\n          if (type === \"getPrev\" && new Date(+tmp[0] + \"/\" + tmp[1]) < new Date(this.today.replace(/\\-/g, \"/\"))) {\n            alert(\"不可选当前日期之前的月份\");\n          } else {\n            var newDate = this.calendar[type](+tmp[0], +tmp[1]);\n            this.currentDate = `${newDate.y}-${newDate.m}`;\n            this.calendar.setDate(newDate.y, newDate.m, true);\n            var list = this.calendar.getDayList();\n            this.dateList = JSON.parse(_JSON$stringify(list));\n            this.dateList.map(item => {\n              item.checkboxChecked = this.selectedDay && item.date === this.selectedDay || this.selectedLastDay && item.date === this.selectedLastDay ? true : false;\n\n              if (this.selectedDay && item.date === this.selectedDay) {\n                item.checkboxTxt = this.checkboxTxt[0];\n              }\n\n              if (this.selectedLastDay && item.date === this.selectedLastDay) {\n                item.checkboxTxt = this.checkboxTxt[1];\n              }\n\n              item.belong = new Date(item.date.replace(/\\-/g, \"/\")) < new Date(this.today.replace(/\\-/g, \"/\")) ? false : true;\n\n              if (this.selectedLastDay && this.selectedDay && new Date(item.date.replace(/\\-/g, \"/\")) <= new Date(this.selectedLastDay.replace(/\\-/g, \"/\")) && new Date(item.date.replace(/\\-/g, \"/\")) >= new Date(this.selectedDay.replace(/\\-/g, \"/\"))) {\n                item.checkboxSelected = true;\n              } else {\n                item.checkboxSelected = false;\n              }\n            });\n          }\n        } else {\n          //可选择所有日期\n          var _newDate = this.calendar[type](+tmp[0], +tmp[1]);\n\n          this.currentDate = `${_newDate.y}-${_newDate.m}`;\n          this.calendar.setDate(_newDate.y, _newDate.m);\n\n          var _list = this.calendar.getDayList();\n\n          this.dateList = JSON.parse(_JSON$stringify(_list));\n          this.dateList.map(item => {\n            item.checkboxChecked = this.selectedDay && item.date === this.selectedDay || this.selectedLastDay && item.date === this.selectedLastDay ? true : false;\n\n            if (this.selectedDay && item.date === this.selectedDay) {\n              item.checkboxTxt = this.checkboxTxt[0];\n            }\n\n            if (this.selectedLastDay && item.date === this.selectedLastDay) {\n              item.checkboxTxt = this.checkboxTxt[1];\n            }\n\n            if (this.selectedLastDay && this.selectedDay && new Date(item.date.replace(/\\-/g, \"/\")) <= new Date(this.selectedLastDay.replace(/\\-/g, \"/\")) && new Date(item.date.replace(/\\-/g, \"/\")) >= new Date(this.selectedDay.replace(/\\-/g, \"/\"))) {\n              item.checkboxSelected = true;\n            } else {\n              item.checkboxSelected = false;\n            }\n          });\n        }\n      } else {\n        var _newDate2 = this.calendar[type](+tmp[0], +tmp[1]);\n\n        this.currentDate = `${_newDate2.y}-${_newDate2.m}`;\n        this.calendar.setDate(_newDate2.y, _newDate2.m);\n\n        var _list2 = this.calendar.getDayList();\n\n        this.dateList = JSON.parse(_JSON$stringify(_list2));\n        this.dateList.map(item => {\n          item.checked = item.date === this.selectedDay ? true : false;\n        });\n      } //年份、月份切换\n\n\n      this.translateYM();\n    },\n\n    changeSelectedDay(i) {\n      var tmp = i.date.match(/\\d+/gi);\n\n      if (this.type === \"checkbox\" && i.belong) {\n        //当不允许选择当天之前日期时\n        if (!this.selectedDay || this.selectedLastDay) {\n          //当未选择或选择完毕两项时\n          this.selectedDay = i.date;\n          i.checkboxTxt = this.checkboxTxt[0];\n          this.selectedLastDay = \"\";\n          this.dateList.map(item => {\n            item.checkboxSelected = false;\n          });\n          i.checkboxSelected = true;\n        } else if (new Date(i.date.replace(/\\-/g, \"/\")) < new Date(this.selectedDay.replace(/\\-/g, \"/\"))) {\n          //当选择的日期在之前\n          this.selectedDay = i.date;\n          i.checkboxTxt = this.checkboxTxt[0];\n          this.dateList.map(item => {\n            item.checkboxSelected = false;\n          });\n          i.checkboxSelected = true;\n        } else if (this.selectedDay !== i.date) {\n          this.selectedLastDay = i.date;\n          i.checkboxTxt = this.checkboxTxt[1];\n          this.dateList.map(item => {\n            if (this.selectedLastDay && this.selectedDay && new Date(item.date.replace(/\\-/g, \"/\")) <= new Date(this.selectedLastDay.replace(/\\-/g, \"/\")) && new Date(item.date.replace(/\\-/g, \"/\")) >= new Date(this.selectedDay.replace(/\\-/g, \"/\"))) {\n              item.checkboxSelected = true;\n            } else {\n              item.checkboxSelected = false;\n            }\n          });\n        }\n\n        if (this.selectedDay && this.selectedLastDay) {\n          this.$emit(\"on-multi-click\", this.selectedDay, this.selectedLastDay);\n          this.status = false;\n        }\n\n        this.dateList.map(item => {\n          item.checkboxChecked = this.selectedDay && item.date === this.selectedDay || this.selectedLastDay && item.date === this.selectedLastDay ? true : false;\n        });\n      } else if (this.type === \"picker\") {} else {\n        //单选\n        if (i.belong) {\n          this.selectedDay = i.date;\n          this.dateList.map(item => {\n            item.checked = item.date === this.selectedDay ? true : false;\n          });\n        } // alert(\"选择了\" + i.date);\n\n\n        this.$emit(\"on-single-click\", i.date);\n      }\n\n      this.$forceUpdate();\n    },\n\n    //多选情况初始化\n    checkboxInit() {\n      if (this.checkboxBefore) {//允许选择当天之前日期\n      } else {\n        //不允许选择当天之前日期并隐去非可选日期\n        this.dateList.map(item => {\n          item.checkboxBefore = new Date(item.date.replace(/\\-/g, \"/\")) < new Date(this.today.replace(/\\-/g, \"/\")) ? false : true;\n          item.belong = new Date(item.date.replace(/\\-/g, \"/\")) < new Date(this.today.replace(/\\-/g, \"/\")) ? false : true;\n        });\n      }\n    },\n\n    //获取日期列表\n    getList() {\n      var list = this.calendar.getDayList();\n      this.dateList = JSON.parse(_JSON$stringify(list));\n      this.dateList.map(item => {\n        item.checked = item.date === this.selectedDay ? true : false;\n        item.checkboxTxt = \"\";\n      });\n    }\n\n  },\n\n  mounted() {\n    /* eslint-disable */\n    this.calendar = new Calendar();\n    this.getToday();\n\n    switch (this.type) {\n      case \"checkbox\":\n        this.checkboxBefore ? this.calendar.setDate(new Date().getFullYear(), new Date().getMonth() + 1) : this.calendar.setDate(new Date().getFullYear(), new Date().getMonth() + 1, true);\n        this.getList();\n        this.checkboxInit();\n        break;\n\n      default:\n        if (this.startDay) {\n          var tmp = this.startDay.match(/\\d+/gi);\n\n          if (tmp.length !== 3 || tmp[0].length !== 4 || tmp[1].length > 2 || tmp[1].length < 0 || tmp[2].length > 2 || tmp[2].length < 0) {\n            //当输入的选定时间不符合规则时抛出异常\n            throw new Error(\"请输入规定字符串---2019/3/3\");\n          } else {\n            this.calendar.setDate(+tmp[0], +tmp[1]);\n            this.getList();\n            this.currentDate = `${tmp[0]}-${tmp[1]}`;\n            this.changeSelectedDay({\n              date: this.startDay,\n              belong: true\n            }); //年份、月份切换\n\n            this.translateYM();\n          }\n        } else {\n          this.calendar.setDate();\n          this.getList();\n        }\n\n    }\n  }\n\n};",{"version":3,"sources":["calendar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div style=\"position: relative;\">\n    <div :class=\"status? 'calendar-wrapper calendar-wrapper-active' : 'calendar-wrapper'\">\n      <div id=\"calendar-content\">\n        <div id=\"calendar-title\">\n          <div class=\"calendar-prev\" @click=\"prev\"></div>\n          <div class=\"calendar-title-date\">\n            <div class=\"calendar-title-date-year\">\n              <ul\n                v-for=\"(item,index) in translateYearY\"\n                :key=\"index\"\n                :style=\"{'transform': 'translateY(' + translateYearY[index] + ')'}\"\n              >\n                <li v-for=\"(v,i) in yearList\" :key=\"i\">\n                  <span>{{v}}</span>\n                </li>\n              </ul>\n            </div>\n            <div>&nbsp;-&nbsp;</div>\n            <div class=\"calendar-title-date-month\">\n              <ul :style=\"{'transform': 'translate3d(0, ' + translateMonthY + ', 0)'}\">\n                <li v-for=\"(item,index) in monthList\" :key=\"index\">\n                  <span>{{item}}</span>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div class=\"calendar-next\" @click=\"next\"></div>\n        </div>\n        <div id=\"calendar-week\">\n          <ul>\n            <li v-for=\"(item,index) in weekList\" :key=\"index\">\n              <span>{{item}}</span>\n            </li>\n          </ul>\n        </div>\n        <ul>\n          <li\n            v-for=\"(item,index) in dateList\"\n            :key=\"index\"\n            :class=\"[item.checked? 'calendar-radio-checked': 'calendar-radio', item.belong?'calendar-day-enable': 'calendar-day-disabled', item.checkboxChecked? 'calendar-checkbox-checked': '', item.checkboxSelected? 'calendar-day-checkboxSelected': '']\"\n          >\n            <div class=\"calendar-day\" @click=\"changeSelectedDay(item)\">\n              {{item.day}}\n              <p v-if=\"type === 'checkbox' && item.checkboxChecked\">{{item.checkboxTxt}}</p>\n            </div>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <!-- 遮罩层 -->\n    <div class=\"gray-wrapper\" v-show=\"status\" @click=\"status=false\"></div>\n  </div>\n</template>\n\n<script>\nimport Calendar from \"./calendar.js\";\n\n/**\n * @desc 日历组件\n * @param {string} [selectedDay] - 选中日期，默认为当天\n * @param {string} [selectedLastDay] - 复选时后一个日期\n * @param {string} [currentDate] - 日历当前年月\n * @param {array} [weekList] - 星期列表\n * @param {array} [dateList] - 日期列表\n * @param {array} [monthList] - 月份列表\n * @param {array} [yearList] - 年份列表\n * @param {number} [liHeight] - 默认高度\n * @param {string} [translateMonthY] - 月份移动值\n * @param {array} [translateYearY] - 年份移动值数组\n */\n\n/**\n * @desc 日历组件-props\n *\n * options - 日历可控项\n * @param {string} [type] - radio: 单选  checkbox: 复选  picker: 滚动\n * @param {string} [startDay] - 设置选定日期(仅针对radio和picker有效) eg：\"2019-3-3\"\n * @param {array} [checkboxTxt] - 复选文本(建议不超过两个字) default: [\"入住\", \"离店\"]\n * @param {boolean} [checkboxBefore] - 复选(是否允许选择当前日期之前的日期, 同时也会禁用往当前日期前翻页的功能) default: false\n */\n\nexport default {\n  name: \"vue-super-calendar\",\n  props: {\n    type: {\n      type: String,\n      default: \"radio\"\n    },\n    startDay: {\n      type: String,\n      default: \"\"\n    },\n    checkboxTxt: {\n      type: Array,\n      default: () => {\n        return [\"入住\", \"离店\"];\n      }\n    },\n    checkboxBefore: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      calendar: null,\n      selectedDay:\n        this.type !== \"checkbox\"\n          ? new Date().getFullYear() +\n            \"-\" +\n            (new Date().getMonth() + 1) +\n            \"-\" +\n            new Date().getDate()\n          : null,\n      selectedLastDay: \"\",\n      currentDate: new Date().getFullYear() + \"-\" + (new Date().getMonth() + 1),\n      weekList: [\"日\", \"一\", \"二\", \"三\", \"四\", \"五\", \"六\"],\n      dateList: [],\n      monthList: [\n        \"01\",\n        \"02\",\n        \"03\",\n        \"04\",\n        \"05\",\n        \"06\",\n        \"07\",\n        \"08\",\n        \"09\",\n        \"10\",\n        \"11\",\n        \"12\"\n      ],\n      yearList: [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"],\n      liHeight: 25,\n      translateMonthY: -new Date().getMonth() * 25 + \"px\",\n      translateYearY: [\n        -new Date()\n          .getFullYear()\n          .toString()\n          .split(\"\")[0] *\n          25 +\n          \"px\",\n        -new Date()\n          .getFullYear()\n          .toString()\n          .split(\"\")[1] *\n          25 +\n          \"px\",\n        -new Date()\n          .getFullYear()\n          .toString()\n          .split(\"\")[2] *\n          25 +\n          \"px\",\n        -new Date()\n          .getFullYear()\n          .toString()\n          .split(\"\")[3] *\n          25 +\n          \"px\"\n      ],\n      today: \"\",\n      status: false\n    };\n  },\n  methods: {\n    /* eslint-disable */\n    show() {\n      this.status = true;\n    },\n    hide() {\n      this.status = false;\n    },\n    //获取当天年月日\n    getToday() {\n      this.today =\n        new Date().getFullYear() +\n        \"-\" +\n        (new Date().getMonth() + 1) +\n        \"-\" +\n        new Date().getDate();\n    },\n    //年月份切换\n    translateYM() {\n      const _tmp = this.currentDate.match(/\\d+/gi);\n\n      _tmp[0].split(\"\").map((item, index) => {\n        this.translateYearY[index] = -+item * this.liHeight + \"px\";\n      });\n\n      this.monthList.map(item => {\n        if (_tmp[1] == parseInt(item)) {\n          this.translateMonthY = -(+_tmp[1] - 1) * this.liHeight + \"px\";\n        }\n      });\n    },\n    //上一月\n    prev() {\n      this.changeMonth(\"getPrev\");\n    },\n    //下一月\n    next() {\n      this.changeMonth(\"getNext\");\n    },\n    //更换月份\n    changeMonth(type) {\n      const tmp = this.currentDate.match(/\\d+/gi);\n      if (this.type === \"checkbox\") {\n        if (!this.checkboxBefore) {\n          //不可选择当前日期之前的日期\n          if (\n            type === \"getPrev\" &&\n            new Date(+tmp[0] + \"/\" + tmp[1]) <\n              new Date(this.today.replace(/\\-/g, \"/\"))\n          ) {\n            alert(\"不可选当前日期之前的月份\");\n          } else {\n            const newDate = this.calendar[type](+tmp[0], +tmp[1]);\n            this.currentDate = `${newDate.y}-${newDate.m}`;\n            this.calendar.setDate(newDate.y, newDate.m, true);\n            let list = this.calendar.getDayList();\n            this.dateList = JSON.parse(JSON.stringify(list));\n            this.dateList.map(item => {\n              item.checkboxChecked =\n                (this.selectedDay && item.date === this.selectedDay) ||\n                (this.selectedLastDay && item.date === this.selectedLastDay)\n                  ? true\n                  : false;\n              if (this.selectedDay && item.date === this.selectedDay) {\n                item.checkboxTxt = this.checkboxTxt[0];\n              }\n              if (this.selectedLastDay && item.date === this.selectedLastDay) {\n                item.checkboxTxt = this.checkboxTxt[1];\n              }\n              item.belong =\n                new Date(item.date.replace(/\\-/g, \"/\")) <\n                new Date(this.today.replace(/\\-/g, \"/\"))\n                  ? false\n                  : true;\n              if (\n                this.selectedLastDay &&\n                this.selectedDay &&\n                new Date(item.date.replace(/\\-/g, \"/\")) <=\n                  new Date(this.selectedLastDay.replace(/\\-/g, \"/\")) &&\n                new Date(item.date.replace(/\\-/g, \"/\")) >=\n                  new Date(this.selectedDay.replace(/\\-/g, \"/\"))\n              ) {\n                item.checkboxSelected = true;\n              } else {\n                item.checkboxSelected = false;\n              }\n            });\n          }\n        } else {\n          //可选择所有日期\n          const newDate = this.calendar[type](+tmp[0], +tmp[1]);\n          this.currentDate = `${newDate.y}-${newDate.m}`;\n          this.calendar.setDate(newDate.y, newDate.m);\n          let list = this.calendar.getDayList();\n          this.dateList = JSON.parse(JSON.stringify(list));\n          this.dateList.map(item => {\n            item.checkboxChecked =\n              (this.selectedDay && item.date === this.selectedDay) ||\n              (this.selectedLastDay && item.date === this.selectedLastDay)\n                ? true\n                : false;\n            if (this.selectedDay && item.date === this.selectedDay) {\n              item.checkboxTxt = this.checkboxTxt[0];\n            }\n            if (this.selectedLastDay && item.date === this.selectedLastDay) {\n              item.checkboxTxt = this.checkboxTxt[1];\n            }\n            if (\n              this.selectedLastDay &&\n              this.selectedDay &&\n              new Date(item.date.replace(/\\-/g, \"/\")) <=\n                new Date(this.selectedLastDay.replace(/\\-/g, \"/\")) &&\n              new Date(item.date.replace(/\\-/g, \"/\")) >=\n                new Date(this.selectedDay.replace(/\\-/g, \"/\"))\n            ) {\n              item.checkboxSelected = true;\n            } else {\n              item.checkboxSelected = false;\n            }\n          });\n        }\n      } else {\n        const newDate = this.calendar[type](+tmp[0], +tmp[1]);\n        this.currentDate = `${newDate.y}-${newDate.m}`;\n        this.calendar.setDate(newDate.y, newDate.m);\n        let list = this.calendar.getDayList();\n        this.dateList = JSON.parse(JSON.stringify(list));\n        this.dateList.map(item => {\n          item.checked = item.date === this.selectedDay ? true : false;\n        });\n      }\n\n      //年份、月份切换\n      this.translateYM();\n    },\n    changeSelectedDay(i) {\n      const tmp = i.date.match(/\\d+/gi);\n      if (this.type === \"checkbox\" && i.belong) {\n        //当不允许选择当天之前日期时\n        if (!this.selectedDay || this.selectedLastDay) {\n          //当未选择或选择完毕两项时\n          this.selectedDay = i.date;\n          i.checkboxTxt = this.checkboxTxt[0];\n          this.selectedLastDay = \"\";\n          this.dateList.map(item => {\n            item.checkboxSelected = false;\n          });\n          i.checkboxSelected = true;\n        } else if (\n          new Date(i.date.replace(/\\-/g, \"/\")) <\n          new Date(this.selectedDay.replace(/\\-/g, \"/\"))\n        ) {\n          //当选择的日期在之前\n          this.selectedDay = i.date;\n          i.checkboxTxt = this.checkboxTxt[0];\n          this.dateList.map(item => {\n            item.checkboxSelected = false;\n          });\n          i.checkboxSelected = true;\n        } else if (this.selectedDay !== i.date) {\n          this.selectedLastDay = i.date;\n          i.checkboxTxt = this.checkboxTxt[1];\n          this.dateList.map(item => {\n            if (\n              this.selectedLastDay &&\n              this.selectedDay &&\n              new Date(item.date.replace(/\\-/g, \"/\")) <=\n                new Date(this.selectedLastDay.replace(/\\-/g, \"/\")) &&\n              new Date(item.date.replace(/\\-/g, \"/\")) >=\n                new Date(this.selectedDay.replace(/\\-/g, \"/\"))\n            ) {\n              item.checkboxSelected = true;\n            } else {\n              item.checkboxSelected = false;\n            }\n          });\n        }\n\n        if (this.selectedDay && this.selectedLastDay) {\n          this.$emit(\"on-multi-click\", this.selectedDay, this.selectedLastDay);\n          this.status = false;\n        }\n\n        this.dateList.map(item => {\n          item.checkboxChecked =\n            (this.selectedDay && item.date === this.selectedDay) ||\n            (this.selectedLastDay && item.date === this.selectedLastDay)\n              ? true\n              : false;\n        });\n      } else if (this.type === \"picker\") {\n      } else {\n        //单选\n        if (i.belong) {\n          this.selectedDay = i.date;\n          this.dateList.map(item => {\n            item.checked = item.date === this.selectedDay ? true : false;\n          });\n        }\n        // alert(\"选择了\" + i.date);\n        this.$emit(\"on-single-click\", i.date);\n      }\n      this.$forceUpdate();\n    },\n    //多选情况初始化\n    checkboxInit() {\n      if (this.checkboxBefore) {\n        //允许选择当天之前日期\n      } else {\n        //不允许选择当天之前日期并隐去非可选日期\n        this.dateList.map(item => {\n          item.checkboxBefore =\n            new Date(item.date.replace(/\\-/g, \"/\")) <\n            new Date(this.today.replace(/\\-/g, \"/\"))\n              ? false\n              : true;\n          item.belong =\n            new Date(item.date.replace(/\\-/g, \"/\")) <\n            new Date(this.today.replace(/\\-/g, \"/\"))\n              ? false\n              : true;\n        });\n      }\n    },\n    //获取日期列表\n    getList() {\n      let list = this.calendar.getDayList();\n      this.dateList = JSON.parse(JSON.stringify(list));\n      this.dateList.map(item => {\n        item.checked = item.date === this.selectedDay ? true : false;\n        item.checkboxTxt = \"\";\n      });\n    }\n  },\n  mounted() {\n    /* eslint-disable */\n    this.calendar = new Calendar();\n    this.getToday();\n    switch (this.type) {\n      case \"checkbox\":\n        this.checkboxBefore\n          ? this.calendar.setDate(\n              new Date().getFullYear(),\n              new Date().getMonth() + 1\n            )\n          : this.calendar.setDate(\n              new Date().getFullYear(),\n              new Date().getMonth() + 1,\n              true\n            );\n        this.getList();\n        this.checkboxInit();\n        break;\n      default:\n        if (this.startDay) {\n          const tmp = this.startDay.match(/\\d+/gi);\n          if (\n            tmp.length !== 3 ||\n            tmp[0].length !== 4 ||\n            tmp[1].length > 2 ||\n            tmp[1].length < 0 ||\n            tmp[2].length > 2 ||\n            tmp[2].length < 0\n          ) {\n            //当输入的选定时间不符合规则时抛出异常\n            throw new Error(\"请输入规定字符串---2019/3/3\");\n          } else {\n            this.calendar.setDate(+tmp[0], +tmp[1]);\n            this.getList();\n            this.currentDate = `${tmp[0]}-${tmp[1]}`;\n            this.changeSelectedDay({\n              date: this.startDay,\n              belong: true\n            });\n            //年份、月份切换\n            this.translateYM();\n          }\n        } else {\n          this.calendar.setDate();\n          this.getList();\n        }\n    }\n  }\n};\n</script>\n\n<style scoped>\ndiv {\n  font-family: Arial, \"Times New Roman\", \"Microsoft YaHei\", SimHei;\n}\n.gray-wrapper {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 9;\n}\n.calendar-wrapper {\n  position: fixed;\n  left: 0;\n  right: 0;\n  bottom: -430px;\n  width: 100%;\n  max-width: 600px;\n  height: 430px;\n  z-index: 99;\n  overflow: hidden;\n  background: #fff;\n  transition: transform 0.3s;\n  transform: translateY(0);\n}\n.calendar-wrapper-active {\n  transform: translateY(-430px);\n}\n#calendar-content {\n  background: #fff;\n}\n#calendar-title {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 0 20px;\n  font-size: 22px;\n  font-weight: 500;\n  height: 50px;\n  color: #000;\n  background: #fff;\n  box-shadow: 0px 2px 6px 0px #dde4eb;\n}\n.calendar-title-date {\n  display: flex;\n}\n.calendar-title-date-year,\n.calendar-title-date-month {\n  height: 25px;\n  line-height: 25px;\n  overflow: hidden;\n}\n.calendar-title-date-year {\n  display: flex;\n}\n\n.calendar-title-date ul {\n  height: 25px;\n  transition: all 0.5s;\n}\n.calendar-title-date ul > li {\n  list-style: none;\n}\n.calendar-prev {\n  width: 10px;\n  height: 10px;\n  border-left: 2px solid #000;\n  border-bottom: 2px solid #000;\n  transform: rotate(45deg);\n}\n.calendar-next {\n  width: 10px;\n  height: 10px;\n  border-top: 2px solid #000;\n  border-right: 2px solid #000;\n  transform: rotate(45deg);\n}\n#calendar-week > ul > li {\n  color: #999;\n}\n#calendar-week > ul,\n#calendar-content > ul {\n  display: flex;\n  flex-wrap: wrap;\n}\n#calendar-week > ul > li,\n#calendar-content > ul > li {\n  flex: 0 0 14.2857%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 50px;\n  list-style: none;\n}\n#calendar-content > ul > li {\n  margin-top: 4px;\n}\n.calendar-radio-checked {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.calendar-radio-checked .calendar-day,\n.calendar-checkbox-checked .calendar-day {\n  flex-flow: column;\n  color: #fff;\n  background: #00c293;\n  box-shadow: 0px 2px 6px 0px rgba(49, 219, 178, 1);\n  border-radius: 4px;\n}\n.calendar-day {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n}\n.calendar-day > p {\n  text-align: center;\n  font-size: 12px;\n}\n.calendar-day-enable {\n  color: #000;\n}\n.calendar-day-disabled {\n  color: #e3e3e3;\n  background: #fff;\n}\n.calendar-day-checkboxSelected {\n  color: #000;\n  background: #b9fff5;\n}\n</style>"],"sourceRoot":"src/lib"}]}