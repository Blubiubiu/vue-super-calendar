{"remainingRequest":"/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js!/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js!/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_eslint-loader@2.1.2@eslint-loader/index.js??ref--13-0!/Users/lsy/Desktop/code/calendar/vue-super-calendar/src/lib/calendar.js","dependencies":[{"path":"/Users/lsy/Desktop/code/calendar/vue-super-calendar/src/lib/calendar.js","mtime":1552544002235},{"path":"/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_thread-loader@2.1.2@thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_babel-loader@8.0.5@babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/_eslint-loader@2.1.2@eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import _JSON$stringify from \"/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/@babel/runtime-corejs2/core-js/json/stringify\";\nimport \"core-js/modules/es6.regexp.match\";\nimport _parseInt from \"/Users/lsy/Desktop/code/calendar/vue-super-calendar/node_modules/@babel/runtime-corejs2/core-js/parse-int\";\n\nclass Calendar {\n  /* eslint-disable */\n  constructor() {\n    this.cache = {};\n    this.dayList = [];\n    this.maxLen = 42;\n  }\n\n  getDay(y, m) {\n    var mday = new Array(31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);\n    if (y % 4 == 0 && y % 100 != 0 || y % 400 == 0) //判断是否是闰月 \n      mday[1] = 29;\n    return mday[m - 1];\n  }\n\n  getWeek(y, m, d) {\n    return _parseInt(new Date(`${y}-${m}-${d}`).getDay());\n  }\n\n  getName(y, m, d) {\n    return y + \"-\" + m + \"-\" + d;\n  }\n  /**\n   * @desc 上一个月\n   */\n\n\n  getPrev(y, m) {\n    if (m - 1 == 0) {\n      return {\n        y: y - 1,\n        m: 12,\n        d: this.getDay(y - 1, 12)\n      };\n    } else {\n      return {\n        y: y,\n        m: m - 1,\n        d: this.getDay(y, m - 1)\n      };\n    }\n  }\n  /**\n   * @desc 下一个月\n   */\n\n\n  getNext(y, m) {\n    if (m + 1 > 12) {\n      return {\n        y: y + 1,\n        m: 1,\n        d: this.getDay(y + 1, 1)\n      };\n    } else {\n      return {\n        y: y,\n        m: m + 1,\n        d: this.getDay(y, m + 1)\n      };\n    }\n\n    ;\n  }\n\n  setDay(date, day, belong) {\n    if (date) {\n      var tmp = date.match(/\\d+/gi);\n      this.dayList.push({\n        date: date,\n        day: day,\n        week: this.getWeek(+tmp[0], +tmp[1], +tmp[2]),\n        belong: !belong\n      });\n    } else {\n      this.dayList.push({\n        date: \"\",\n        day: \"\",\n        week: \"\",\n        belong: false\n      });\n    }\n  }\n\n  clear() {\n    this.dayList = [];\n  }\n\n  setDate(year, month, bool) {\n    year = year || new Date().getFullYear();\n    month = month || new Date().getMonth() + 1;\n    var cache_name = year + \"-\" + month;\n\n    if (this.cache[cache_name]) {\n      this.dayList = this.cache[cache_name];\n      return this;\n    }\n\n    this.clear();\n    var name = null,\n        index = 0,\n        dayTotal = this.getDay(year, month),\n        weekFirst = this.getWeek(year, month, 1); //上月的数据\n\n    var prev = this.getPrev(year, month),\n        prevDate = prev.d - weekFirst + 1;\n\n    for (var i = 0; i < weekFirst; i++) {\n      if (!bool) {\n        name = this.getName(prev.y, prev.m, prevDate);\n        this.setDay(name, prevDate, 1);\n      } else {\n        this.setDay(\"\", prevDate, 1);\n      }\n\n      prevDate++;\n      index++;\n    } //本月数据\n\n\n    for (var _i = 1; _i <= dayTotal; _i++) {\n      name = this.getName(year, month, _i);\n      this.setDay(name, _i);\n      index++;\n    } //下月数据\n\n\n    var next = this.getNext(year, month),\n        day = 1;\n\n    while (index < this.maxLen) {\n      if (!bool) {\n        name = this.getName(next.y, next.m, day);\n        this.setDay(name, day, 1);\n      } else {\n        this.setDay(\"\", day, 1);\n      }\n\n      index++;\n      day++;\n    }\n\n    ; //缓存\n\n    this.cache[cache_name] = JSON.parse(_JSON$stringify(this.dayList));\n    return this;\n  }\n\n  getDayList(bool) {\n    var list = JSON.parse(_JSON$stringify(this.dayList));\n\n    if (bool) {\n      var len = 7,\n          count = 0;\n\n      for (var i = list.length - 1; len >= 1; i--, len--) {\n        if (list[i]['belong']) {\n          count++;\n        }\n      }\n\n      if (count == 7) {\n        len = 7;\n\n        while (len) {\n          list.pop();\n          len--;\n        }\n      }\n    }\n\n    return list;\n  }\n\n}\n\nexport default Calendar;",{"version":3,"sources":["/Users/lsy/Desktop/code/calendar/vue-super-calendar/src/lib/calendar.js"],"names":["Calendar","constructor","cache","dayList","maxLen","getDay","y","m","mday","Array","getWeek","d","Date","getName","getPrev","getNext","setDay","date","day","belong","tmp","match","push","week","clear","setDate","year","month","bool","getFullYear","getMonth","cache_name","name","index","dayTotal","weekFirst","prev","prevDate","i","next","JSON","parse","getDayList","list","len","count","length","pop"],"mappings":"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","sourcesContent":["class Calendar {\n    \n    /* eslint-disable */\n    constructor() {\n        this.cache = {};\n        this.dayList = [];\n        this.maxLen = 42;\n    }\n\n    getDay(y, m) {\n        let mday = new Array(31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);\n        if ((y % 4 == 0 && y % 100 != 0) || y % 400 == 0) //判断是否是闰月 \n            mday[1] = 29;\n        return mday[m - 1];\n    }\n    getWeek(y, m, d) {\n        return parseInt(new Date(`${y}-${m}-${d}`).getDay())\n    }\n    getName(y, m, d) {\n        return y + \"-\" + m + \"-\" + d;\n    }\n    /**\n     * @desc 上一个月\n     */\n    getPrev(y, m) {\n        if (m - 1 == 0) {\n            return {\n                y: y - 1,\n                m: 12,\n                d: this.getDay(y - 1, 12)\n            };\n        } else {\n            return {\n                y: y,\n                m: m - 1,\n                d: this.getDay(y, m - 1)\n            };\n        }\n    }\n    /**\n     * @desc 下一个月\n     */\n    getNext(y, m) {\n        if (m + 1 > 12) {\n            return {\n                y: y + 1,\n                m: 1,\n                d: this.getDay(y + 1, 1)\n            };\n        } else {\n            return {\n                y: y,\n                m: m + 1,\n                d: this.getDay(y, m + 1)\n            };\n        };\n    }\n    setDay(date, day, belong) {\n        if (date) {\n            const tmp = date.match(/\\d+/gi);\n            this.dayList.push({\n                date: date,\n                day: day,\n                week: this.getWeek(+tmp[0], +tmp[1], +tmp[2]),\n                belong: !belong,\n            })\n        } else {\n            this.dayList.push({\n                date: \"\",\n                day: \"\",\n                week: \"\",\n                belong: false,\n            })\n        }\n    }\n    clear() {\n        this.dayList = [];\n    }\n    setDate(year, month, bool) {\n        year = year || new Date().getFullYear();\n        month = month || new Date().getMonth() + 1;\n        let cache_name = year + \"-\" + month;\n        if (this.cache[cache_name]) {\n            this.dayList = this.cache[cache_name];\n            return this;\n        }\n        this.clear();\n        let name = null,\n            index = 0,\n            dayTotal = this.getDay(year, month),\n            weekFirst = this.getWeek(year, month, 1)\n        //上月的数据\n        let prev = this.getPrev(year, month),\n            prevDate = prev.d - weekFirst + 1;\n        \n        for (let i = 0; i < weekFirst; i++) {\n            if (!bool) {\n                name = this.getName(prev.y, prev.m, prevDate);\n                this.setDay(name, prevDate, 1);\n            } else {\n                this.setDay(\"\", prevDate, 1);\n            }\n            prevDate++;\n            index++;\n        }\n        //本月数据\n        for (let i = 1; i <= dayTotal; i++) {\n            name = this.getName(year, month, i);\n            this.setDay(name, i);\n            index++;\n        }\n        //下月数据\n        let next = this.getNext(year, month),\n            day = 1;\n        while (index < this.maxLen) {\n            if (!bool) {\n                name = this.getName(next.y, next.m, day);\n                this.setDay(name, day, 1);\n            } else {\n                this.setDay(\"\", day, 1);\n            }\n            index++;\n            day++;\n        };\n        //缓存\n        this.cache[cache_name] = JSON.parse(JSON.stringify(this.dayList));\n        return this;\n    }\n    getDayList(bool) {\n        let list = JSON.parse(JSON.stringify(this.dayList));\n        if (bool) {\n            let len = 7,\n                count = 0;\n            for (let i = list.length - 1; len >= 1; i--, len--) {\n                if (list[i]['belong']) {\n                    count++;\n                }\n            }\n            if (count == 7) {\n                len = 7;\n                while (len) {\n                    list.pop();\n                    len--;\n                }\n            }\n        }\n        return list;\n    }\n}\n\nexport default Calendar;"]}]}